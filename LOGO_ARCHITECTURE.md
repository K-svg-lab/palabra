# Logo Architecture & Integration

## System Overview

```
┌─────────────────────────────────────────────────────────────────┐
│                      YOUR SOURCE LOGO                            │
│                  (Gradient "P" Design)                           │
│                     logo-source.png                              │
└────────────────────────┬────────────────────────────────────────┘
                         │
                         │ generate-icons.js
                         │ (Automated Processing)
                         ▼
┌─────────────────────────────────────────────────────────────────┐
│                   GENERATED ICON FILES                           │
│                   (palabra/public/)                              │
├─────────────────────────────────────────────────────────────────┤
│  icon-192.png (192×192)      → PWA, Android                     │
│  icon-512.png (512×512)      → PWA, Android                     │
│  apple-touch-icon.png (180×180) → iOS Home Screen               │
│  favicon-32x32.png (32×32)   → Browser tabs                     │
│  favicon-16x16.png (16×16)   → Browser tabs                     │
│  favicon.ico                 → Legacy browsers                  │
│  logo.png (512×512)          → General use                      │
└────────────┬───────────────────────┬────────────────────────────┘
             │                       │
             ▼                       ▼
┌─────────────────────┐   ┌──────────────────────┐
│   Web Browsers      │   │   Mobile Devices     │
├─────────────────────┤   ├──────────────────────┤
│ • Tab icons         │   │ • Home screen icon   │
│ • Bookmarks         │   │ • App launcher       │
│ • History           │   │ • Task switcher      │
│ • Address bar       │   │ • Splash screen      │
└─────────────────────┘   └──────────────────────┘
```

## Component Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                    Logo Component System                         │
└─────────────────────────────────────────────────────────────────┘

components/shared/logo.tsx
├── Logo (Primary Component)
│   ├── Props:
│   │   ├── size: 'small' | 'medium' | 'large' | number
│   │   ├── showText: boolean
│   │   ├── variant: 'svg' | 'png'
│   │   └── className: string
│   ├── Uses: Next.js Image (optimized)
│   └── Sources: /logo.svg or /logo.png
│
└── LogoIcon (Simplified)
    ├── Props: size: number
    └── Uses: /logo.svg

Used In:
├── Onboarding Welcome Screen
│   └── <Logo size="medium" showText />
├── Sign In Page
│   └── <Logo size="large" />
├── Sign Up Page
│   └── <Logo size="large" />
└── Available for Custom Use
    └── Import anywhere in the app
```

## Metadata Integration

```
app/layout.tsx (Root Layout)
├── Metadata
│   ├── icons:
│   │   ├── icon: [favicon-16x16.png, favicon-32x32.png]
│   │   ├── apple: [apple-touch-icon.png]
│   │   └── other: [favicon.ico]
│   └── manifest: /manifest.json
│
public/manifest.json (PWA Manifest)
├── icons:
│   ├── 192×192 (any, maskable)
│   └── 512×512 (any, maskable)
└── shortcuts:
    ├── Review Vocabulary
    └── Add Word
```

## Data Flow

```
User Action → Logo Display
─────────────────────────────

1. Browser Loads App
   └→ layout.tsx reads metadata
      └→ Browser requests icon files from /public
         └→ Icons display in tab, bookmarks, etc.

2. User Visits Page with Logo Component
   └→ Component renders <Logo>
      └→ Next.js Image loads logo.svg or logo.png
         └→ Optimized image displayed with proper sizing

3. User Installs PWA (Add to Home Screen)
   └→ Browser reads manifest.json
      └→ Requests icon-192.png and icon-512.png
         └→ Icons stored for home screen and splash

4. iOS User Adds to Home Screen
   └→ Safari reads apple-touch-icon metadata
      └→ Requests apple-touch-icon.png
         └→ Icon added to iOS home screen
```

## File Relationships

```
Static Assets (public/)
├── logo.svg ✅
│   ├── Created manually
│   ├── Scalable vector version
│   └── Used by: <Logo variant="svg" />
│
├── logo.png ⏳
│   ├── Generated by script
│   ├── 512×512 raster version
│   └── Used by: <Logo variant="png" />, marketing
│
├── PWA Icons ⏳
│   ├── icon-192.png
│   ├── icon-512.png
│   └── Referenced by: manifest.json
│
├── Browser Icons ⏳
│   ├── favicon-16x16.png
│   ├── favicon-32x32.png
│   ├── favicon.ico
│   └── Referenced by: layout.tsx metadata
│
└── iOS Icon ⏳
    ├── apple-touch-icon.png
    └── Referenced by: layout.tsx metadata

Scripts
└── scripts/generate-icons.js ✅
    ├── Input: Source logo (any size)
    ├── Process: Resize with sharp
    └── Output: All icon files above marked ⏳

Components
└── components/shared/logo.tsx ✅
    ├── Exports: Logo, LogoIcon
    ├── Imports: Next.js Image
    └── Sources: logo.svg, logo.png

Pages Using Logo
├── components/features/onboarding-welcome.tsx ✅
├── app/(auth)/signin/page.tsx ✅
└── app/(auth)/signup/page.tsx ✅
```

## Processing Pipeline

```
                    Icon Generation Pipeline
                    ═══════════════════════
                             
Source Logo (PNG/JPG/SVG)
          │
          │ User runs: node scripts/generate-icons.js
          ▼
    ┌──────────┐
    │  Sharp   │ Image Processing Library
    │ Library  │ (Installed with Next.js)
    └────┬─────┘
         │
         ├─→ Resize to 192×192 → icon-192.png
         ├─→ Resize to 512×512 → icon-512.png
         ├─→ Resize to 180×180 → apple-touch-icon.png
         ├─→ Resize to 32×32   → favicon-32x32.png
         ├─→ Resize to 16×16   → favicon-16x16.png
         ├─→ Convert to ICO    → favicon.ico
         └─→ Copy at 512×512   → logo.png
              │
              ▼
         public/ directory
         (Ready for deployment)
```

## Usage Patterns

### Pattern 1: Icon in Metadata (Automatic)
```tsx
// layout.tsx
export const metadata = {
  icons: {
    icon: [{ url: '/favicon-32x32.png' }]
  }
}
// Browser automatically requests and displays
```

### Pattern 2: Component in UI (Manual)
```tsx
// any-page.tsx
import { Logo } from '@/components/shared/logo';

export default function Page() {
  return <Logo size="medium" showText />;
}
```

### Pattern 3: PWA Installation (Automatic)
```json
// manifest.json
{
  "icons": [
    { "src": "/icon-512.png", "sizes": "512x512" }
  ]
}
// OS automatically uses when installing PWA
```

## Checklist

### Setup Phase
- ✅ Icon generation script created
- ✅ Logo component created
- ✅ SVG logo created
- ✅ Metadata updated
- ✅ Pages updated with logo
- ⏳ Icon files generated (waiting for user)

### Testing Phase (After Generation)
- ⏳ Test favicon in browser
- ⏳ Test PWA installation
- ⏳ Test iOS Add to Home Screen
- ⏳ Test logo component rendering
- ⏳ Test on different screen sizes

### Deployment Phase
- ⏳ Verify icons in production
- ⏳ Test social media previews
- ⏳ Update marketing materials

---

**Legend:**
- ✅ Complete
- ⏳ Pending (waiting for icon generation)
- → References/Uses
- ▼ Flow direction
